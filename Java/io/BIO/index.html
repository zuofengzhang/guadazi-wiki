<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="&lt;&lt; Java高级软件工程师知识结构  掌握InputStream、OutputStream、Reader、Writer的继承体系。 掌握字节流(FileInputStream、DataInputStream、BufferedInputStream、FileOutputSteam、DataOutputStream、BufferedOutputStream)和 字符流(BufferedR">
<meta property="og:type" content="article">
<meta property="og:title" content="Java IO">
<meta property="og:url" content="http://example.com/Java/io/BIO/index.html">
<meta property="og:site_name" content="Guadazi">
<meta property="og:description" content="&lt;&lt; Java高级软件工程师知识结构  掌握InputStream、OutputStream、Reader、Writer的继承体系。 掌握字节流(FileInputStream、DataInputStream、BufferedInputStream、FileOutputSteam、DataOutputStream、BufferedOutputStream)和 字符流(BufferedR">
<meta property="og:locale">
<meta property="og:image" content="http://example.com/images/java/io/java-io-package.png">
<meta property="og:image" content="http://example.com/images/java/io/java-io-InputStream.png">
<meta property="og:image" content="http://example.com/images/java/io/java-io-OutputStream.png">
<meta property="og:image" content="http://example.com/images/java/io/InputStream-OutputStream-match.png">
<meta property="og:image" content="http://example.com/images/java/io/java-io-Reader.png">
<meta property="og:image" content="http://example.com/images/java/io/java-io-Writer.png">
<meta property="og:image" content="http://example.com/images/java/io/Reader-Writer-match.png">
<meta property="og:image" content="http://example.com/images/java/io/%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB.png">
<meta property="og:image" content="http://example.com/images/java/io/%E8%BF%87%E6%BB%A4%E5%99%A8%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB.png">
<meta property="article:published_time" content="2016-05-12T09:28:00.000Z">
<meta property="article:modified_time" content="2021-01-16T03:49:07.123Z">
<meta property="article:author" content="aaronzhang">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="IO">
<meta property="article:tag" content="InputStream">
<meta property="article:tag" content="OutputStream">
<meta property="article:tag" content="Reader">
<meta property="article:tag" content="Writer">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/java/io/java-io-package.png">

<link rel="canonical" href="http://example.com/Java/io/BIO/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>Java IO | Guadazi</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Guadazi</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/Java/io/BIO/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="aaronzhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Guadazi">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Java IO
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-05-12 17:28:00" itemprop="dateCreated datePublished" datetime="2016-05-12T17:28:00+08:00">2016-05-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-01-16 11:49:07" itemprop="dateModified" datetime="2021-01-16T11:49:07+08:00">2021-01-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><a href="/Java/advanced-engineer-outline/">&lt;&lt; Java高级软件工程师知识结构</a></p>
<ol>
<li>掌握InputStream、OutputStream、Reader、Writer的继承体系。</li>
<li>掌握字节流(FileInputStream、DataInputStream、BufferedInputStream、FileOutputSteam、DataOutputStream、BufferedOutputStream)和 字符流(BufferedReader、InputStreamReader、FileReader、BufferedWriter、OutputStreamWriter、PrintWriter、FileWriter)，并熟练运用。</li>
<li>掌握NIO实现原理及使用方法。</li>
</ol>
<p>Java IO包括:</p>
<ul>
<li><a href="/Java/io/IO-Model/">IO Model</a></li>
<li><a href="/Java/io/BIO/">Java BIO</a></li>
<li><a href="/Java/io/NIO/">Java NIO</a></li>
<li><a href="/Java/io/AIO/">Java AIO</a></li>
<li><a href="/Java/io/java-zip/">Java压缩</a></li>
<li><a href="/Java/io/object-serialization/">Java序列化</a></li>
<li><a href="/Java/io/java-XML-JSON/">Java XML与JSON</a></li>
</ul>
<p>本文介绍的是Java IO的基础部分, 也叫作<code>BIO</code>.</p>
<h1 id="Java-IO-继承关系"><a href="#Java-IO-继承关系" class="headerlink" title="Java IO 继承关系"></a>Java IO 继承关系</h1><p>java.io包中包含了一系列的<code>Java IO</code>相关的类和接口：</p>
<p><img src="/images/java/io/java-io-package.png"></p>
<ul>
<li>File 文件类</li>
<li>FileDescriptor 文件描述类</li>
<li>InputStream 字节流输入抽象类</li>
<li>OutputStream 字节流输出抽象类</li>
<li>Reader 字符流输入抽象类</li>
<li>Writer 字符流输出抽象类</li>
<li>RandomAccessFile随机访问文件类 不是InputStream或者OutputStream继承层次的一部分，除了实现了DataInput和DataOutput接口（DataInputStream和DataOutputStream也实现这两个接口）外, 他和这两个继承层次没任何关系。甚至不使用InputStream和OutputStream类中的任何功能。完全是独立的类，RandomAccessFile拥有和别的IO类型本质完全不同的行为，可以在一个文件中向前和向后移动，因此重新编写了所有的方法。任何情况下都是相互独立的，直接从Object类派生而来。</li>
<li><ul>
<li>Console类,该类提供了用于读取密码的方法，可以禁止控制台回显并返回char数组，这两个特性对保证安全有作用，平时用的不多，了解就行。</li>
</ul>
</li>
<li><ul>
<li>StreamTokenizer 类，这个类非常有用，它可以把输入流解析为标记（token）, StreamTokenizer 并非派生自InputStream或者OutputStream，而是归类于io库中，因为StreamTokenizer只处理InputStream对象。</li>
</ul>
</li>
</ul>
<p>流，是编程语言的IO类库常用的概念， 所谓流是指任何有能力产出数据的数据源和任何有能力接收数据的接收端对象。”流”屏蔽了实际的IO设备中处理数据的细节。<br>Java中的流，根据处理数据类型的不同分为：字符流和字节流; 根据数据流向不同分为：输入流和输出流。可以通过类名的结尾来判断。</p>
<h2 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h2><p><a href="/Java/io/java-zip/">java中的压缩</a>都是面向字节的 (<code>java.util.zip</code>)。</p>
<h2 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h2><p>字节输入流都是继承于InputStream并且以InputStream结尾，InputStream表示从不同的数据源产生输入的类，这些数据源包括字节数组、String对象(StringBufferInputStream已经不再使用，需要转换为字节数组来实现)、文件、“管道”、其他种类的流组成的序列及其他数据源。每种数据源都有相应的 InputStream 子类，FilterInputStream也属于一种 InputStream， 为装饰器类提供基类，其中，“装饰器”类可以把属性或有用的接口与输入流连接在一起。<a href="/designPattern-Strategy/">装饰器模式</a></p>
<p><img src="/images/java/io/java-io-InputStream.png"></p>
<ol>
<li>PipedInputStream 作为多线程中的数据源，将其与FilterInputStream对象相连以提供有用接口</li>
<li><code>FilterInputStream</code> 类定义了一些方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mark</span><span class="params">(<span class="keyword">int</span> readlimit)</span></span></span><br><span class="line"><span class="function">	在输入流中的当前位置上作标记。 </span></span><br><span class="line"><span class="function"> reset 方法的后续调用将此流重新定位在最后标记的位置上，</span></span><br><span class="line"><span class="function"> 以便后续读取操作重新读取相同的字节。</span></span><br><span class="line"><span class="function">	readlimit 参数告知此输入流在标记位置无效之前允许读取的字节数。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reset</span><span class="params">()</span>  <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">	将此流重新定位到对此输入流最后调用 mark 方法时的位置。</span></span><br><span class="line"><span class="function">	此方法只执行 in.<span class="title">reset</span><span class="params">()</span>。</span></span><br><span class="line"><span class="function">	在需要提前读取一小部分数据以查看流中有什么的情况下，可以使用流的标记。</span></span><br><span class="line"><span class="function">	通过调用通用解析器常常最容易做到这一点。如果流属于通过解析处理的类型，那么解析起来就很容易。</span></span><br><span class="line"><span class="function">	如果流不属于那种类型，那么解析器应该在解析失败时抛出一个异常。</span></span><br><span class="line"><span class="function">	如果这发生在 readlimit 个字节内，那么它允许外部代码重置流，并尝试另一种解析器。</span></span><br></pre></td></tr></table></figure></li>
<li>除了DataInputStream以外的FilterInputStream类在内部修改了InputStream的行为方式，是否缓冲，是否记录读过的行，以及是否把单一字符推回输入流等。</li>
</ol>
<h2 id="OutputStream"><a href="#OutputStream" class="headerlink" title="OutputStream"></a>OutputStream</h2><p>接收端对象包括字节数组(但不是String)、文件或者管道。<br>字节输出流都是继承于OutputStream并以OutputStream结尾</p>
<p><img src="/images/java/io/java-io-OutputStream.png"></p>
<p>字节输入流和输出流的对应关系</p>
<p><img src="/images/java/io/InputStream-OutputStream-match.png"></p>
<h2 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h2><p>字节流仅支持8位字节流，不能很好的处理16位的Unicode字符，<code>Reader</code>和<code>Writer</code>提供了兼容Unicode与面向字符的I/O功能，可以方便的实现国际化。</p>
<h2 id="Reader-字符输入流"><a href="#Reader-字符输入流" class="headerlink" title="Reader 字符输入流"></a>Reader 字符输入流</h2><p>读取字符序列的类都是继承于Reader并且以Reader结尾</p>
<p><img src="/images/java/io/java-io-Reader.png"></p>
<h2 id="Writer-字符输出流"><a href="#Writer-字符输出流" class="headerlink" title="Writer 字符输出流"></a>Writer 字符输出流</h2><p>写入字符流的类都是继承于Writer并且以Writer结尾</p>
<p><img src="/images/java/io/java-io-Writer.png"></p>
<ol>
<li>FilterWriter形同虚设： BufferedWriter并不是FilterWriter的子类，尽管FilterWriter是抽象类。没有任何子类。</li>
<li>CharArrayWriter、StringWriter 是两种基本的介质流，它们分别向Char 数组、String 中写入数据。PipedWriter 是向与其它线程共用的管道中写入数据</li>
<li>PrintWriter 和 PrintStream 极其类似，功能和使用也非常相似。</li>
<li>OutputStreamWriter 是OutputStream 到Writer 转换的桥梁</li>
</ol>
<p>字符输入流与字符输出流的对应关系</p>
<p><img src="/images/java/io/Reader-Writer-match.png"></p>
<h2 id="字节流与字符流的对应关系"><a href="#字节流与字符流的对应关系" class="headerlink" title="字节流与字符流的对应关系"></a>字节流与字符流的对应关系</h2><p><img src="/images/java/io/%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB.png"></p>
<p><img src="/images/java/io/%E8%BF%87%E6%BB%A4%E5%99%A8%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB.png"></p>
<h2 id="字节流与字符流的区别"><a href="#字节流与字符流的区别" class="headerlink" title="字节流与字符流的区别"></a>字节流与字符流的区别</h2><p>把一片二进制数据数据逐一输出到某个设备中，或者从某个设备中逐一读取一片二进制数据，不管输入输出设备是什么，我们要用统一的方式来完成这些操作，用一种抽象的方式进行描述，这个抽象描述方式起名为IO流，对应的抽象类为OutputStream和InputStream ，不同的实现类就代表不同的输入和输出设备，它们都是针对字节进行操作的。</p>
<p>在应用中，经常要完全是字符的一段文本输出去或读进来，用字节流可以吗？计算机中的一切最终都是二进制的字节形式存在。对于“中国”这些字符，首先要得到其对应的字节，然后将字节写入到输出流。读取时，首先读到的是字节，可是我们要把它显示为字符，我们需要将字节转换成字符。由于这样的需求很广泛，人家专门提供了字符流的包装类。</p>
<p>底层设备永远只接受字节数据，有时候要写字符串到底层设备，需要将字符串转成字节再进行写入。字符流是字节流的包装，字符流则是直接接受字符串，它内部将串转成字节，再写入底层设备，这为我们向IO设别写入或读取字符串提供了一点点方便。字符向字节转换时，要注意编码的问题，因为字符串转成字节数组，其实是转成该字符的某种编码的字节形式，读取也是反之的道理。</p>
<h1 id="字节流-1"><a href="#字节流-1" class="headerlink" title="字节流"></a>字节流</h1><h2 id="FileInputStream-文件输入流"><a href="#FileInputStream-文件输入流" class="headerlink" title="FileInputStream 文件输入流"></a>FileInputStream 文件输入流</h2><p>构造器只能接受File对象 File路径字符串或者 FileDescriptor对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">available</span><span class="params">()</span></span></span><br><span class="line"><span class="function">     返回下一次对此输入流调用的方法可以不受阻塞地从此输入流读取（或跳过）的估计剩余字节数。</span></span><br><span class="line"><span class="function">FileDescriptor 	<span class="title">getFD</span><span class="params">()</span></span></span><br><span class="line"><span class="function">     返回表示到文件系统中实际文件的连接的 FileDescriptor 对象，</span></span><br><span class="line"><span class="function">     该文件系统正被此 FileInputStream 使用。</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> 	<span class="title">skip</span><span class="params">(<span class="keyword">long</span> n)</span></span></span><br><span class="line"><span class="function">     从输入流中跳过并丢弃 n 个字节的数据。</span></span><br></pre></td></tr></table></figure>
<h2 id="FileOutputSteam-文件输出流"><a href="#FileOutputSteam-文件输出流" class="headerlink" title="FileOutputSteam 文件输出流"></a>FileOutputSteam 文件输出流</h2><p>文件输出流是用于将数据写入 File 或 FileDescriptor 的输出流。与字符流中的<code>FileWriter</code>对应.</p>
<h2 id="BufferedInputStream-缓冲输入流"><a href="#BufferedInputStream-缓冲输入流" class="headerlink" title="BufferedInputStream 缓冲输入流"></a>BufferedInputStream 缓冲输入流</h2><p>支持一次性读入多个字节</p>
<p>BufferedInputStream 为另一个输入流添加一些功能，即缓冲输入以及支持 mark 和 reset 方法的能力。<br>在创建 BufferedInputStream 时，会创建一个内部缓冲区数组。<br>在读取或跳过流中的字节时，可根据需要从包含的输入流再次填充该内部缓冲区，一次填充多个字节。</p>
<p>实现了FilterInputStream的<code>mark(int readLine)</code>方法</p>
<p>mark 操作记录输入流中的某个点，reset 操作使得在从包含的输入流中获取新字节之前，再次读取自最后一次 mark 操作后读取的所有字节。</p>
<p>构造器只能接受 InputStream</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span>  <span class="title">available</span><span class="params">()</span></span></span><br><span class="line"><span class="function">          返回可以从此输入流读取（或跳过）、且不受此输入流接下来的方法调用阻塞的估计字节数。</span></span><br></pre></td></tr></table></figure>

<h2 id="BufferedOutputStream-缓冲输出流"><a href="#BufferedOutputStream-缓冲输出流" class="headerlink" title="BufferedOutputStream 缓冲输出流"></a>BufferedOutputStream 缓冲输出流</h2><p>该类实现缓冲的字节输出流。通过设置这种输出流，应用程序就可以将各个字节写入底层输出流中，而不必针对每次字节写入调用底层系统。</p>
<p>BufferedOutputStream重写了OutputStream中的write方法,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">byte</span>[] b,</span></span></span><br><span class="line"><span class="function"><span class="params">                  <span class="keyword">int</span> off,</span></span></span><br><span class="line"><span class="function"><span class="params">                  <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function">           <span class="keyword">throws</span> IOException</span></span><br></pre></td></tr></table></figure>
<p>OutputStream写入多个字节时会逐个字节的调用单字节写入方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function">           <span class="keyword">throws</span> IOException</span></span><br></pre></td></tr></table></figure>
<p>而 BufferedOutputStream 中的可以一次性将这些字节写入输出流, 因此效率比较高.</p>
<h2 id="DataInputStream-数据输入流"><a href="#DataInputStream-数据输入流" class="headerlink" title="DataInputStream 数据输入流"></a>DataInputStream 数据输入流</h2><p>DataInputStream几乎可以任何形式输出，而<code>readLine()</code>是唯一成不了首选的原因。</p>
<p>数据输出流允许应用程序以适当方式将基本 Java 数据类型写入输出流中。然后，应用程序可以使用数据输入流将数据读入。</p>
<p>使用DataInputStream写字符串并且能够通过DataInputStream恢复的唯一的方法是使用UTF-8编码</p>
<h2 id="DataOutputStream-数据输出流"><a href="#DataOutputStream-数据输出流" class="headerlink" title="DataOutputStream 数据输出流"></a>DataOutputStream 数据输出流</h2><p>不同的数据类型(基本数据类型和String对象)的读取方法都以<code>read</code>开头，如<code>readByte()</code>、<code>readFloat()</code>等</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">DataOutputStream outputStream = <span class="keyword">new</span> DataOutputStream(<span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;abc.txt&quot;</span>)));</span><br><span class="line">outputStream.writeDouble(<span class="number">3.14159265358979</span>);</span><br><span class="line">outputStream.writeUTF(<span class="string">&quot;仅仅是测试&quot;</span>);</span><br><span class="line">outputStream.writeDouble(<span class="number">3.58979</span>);</span><br><span class="line">outputStream.writeUTF(<span class="string">&quot;不仅仅是测试&quot;</span>);</span><br><span class="line">outputStream.close();</span><br><span class="line"></span><br><span class="line">DataInputStream inputStream = <span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;abc.txt&quot;</span>)));</span><br><span class="line">System.out.println(inputStream.readDouble());</span><br><span class="line">System.out.println(inputStream.readUTF());</span><br><span class="line">System.out.println(inputStream.readDouble());</span><br><span class="line">System.out.println(inputStream.readUTF());</span><br><span class="line">inputStream.close();</span><br></pre></td></tr></table></figure>


<h1 id="字符流-1"><a href="#字符流-1" class="headerlink" title="字符流"></a>字符流</h1><h2 id="FileReader-文件输入字符流"><a href="#FileReader-文件输入字符流" class="headerlink" title="FileReader 文件输入字符流"></a>FileReader 文件输入字符流</h2><p>用来读取字符文件的便捷类。此类的构造方法假定默认字符编码和默认字节缓冲区大小都是适当的。<br>要自己指定这些值，可以先在 FileInputStream 上构造一个 InputStreamReader。<br>FileReader 用于读取字符流。要读取原始字节流，请考虑使用 FileInputStream。</p>
<h2 id="FileWriter-文件输出字符流"><a href="#FileWriter-文件输出字符流" class="headerlink" title="FileWriter 文件输出字符流"></a>FileWriter 文件输出字符流</h2><p>用来写入字符文件的便捷类。此类的构造方法假定默认字符编码和默认字节缓冲区大小都是可接受的。<br>要自己指定这些值，可以先在 FileOutputStream 上构造一个 OutputStreamWriter。</p>
<p>文件是否可用或是否可以被创建取决于底层平台。特别是某些平台一次只允许一个 FileWriter（或其他文件写入对象）打开文件进行写入。<br>在这种情况下，如果所涉及的文件已经打开，则此类中的构造方法将失败。</p>
<p>FileWriter 用于写入字符流。要写入原始字节流，请考虑使用 FileOutputStream。</p>
<h2 id="BufferedReader-缓冲字符输入流"><a href="#BufferedReader-缓冲字符输入流" class="headerlink" title="BufferedReader 缓冲字符输入流"></a>BufferedReader 缓冲字符输入流</h2><p>从<code>字符输入流</code>中读取文本，缓冲各个字符，从而实现字符、数组和行的高效读取。<br>可以指定缓冲区的大小，或者可使用默认的大小。大多数情况下，默认值就足够大了。<br>通常，Reader 所作的每个读取请求都会导致对底层字符或字节流进行相应的读取请求。<br>因此，建议用 BufferedReader 包装所有其 read() 操作可能开销很高的 Reader（如 FileReader 和 InputStreamReader）。例如，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BufferedReader in</span><br><span class="line">   = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;foo.in&quot;</span>));</span><br></pre></td></tr></table></figure>
<p>将缓冲指定文件的输入。如果没有缓冲，则每次调用 read() 或 readLine() 都会导致从文件中读取字节，并将其转换为字符后返回，而这是极其低效的。</p>
<p>通过用合适的 BufferedReader 替代每个 DataInputStream，可以对将 DataInputStream 用于文字输入的程序进行本地化。</p>
<p>主要的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String 	<span class="title">readLine</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	  读取一个文本行。</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">ready</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	  判断此流是否已准备好被读取。</span></span><br></pre></td></tr></table></figure>
<h2 id="BufferedWriter-缓冲字符输出流"><a href="#BufferedWriter-缓冲字符输出流" class="headerlink" title="BufferedWriter 缓冲字符输出流"></a>BufferedWriter 缓冲字符输出流</h2><p>将文本写入字符输出流，缓冲各个字符，从而提供单个字符、数组和字符串的高效写入。<br>可以指定缓冲区的大小，或者接受默认的大小。在大多数情况下，默认值就足够大了。<br>该类提供了 newLine() 方法，它使用平台自己的行分隔符概念，此概念由系统属性 line.separator 定义。<br>并非所有平台都使用新行符 (‘\n’) 来终止各行。因此调用此方法来终止每个输出行要优于直接写入新行符。</p>
<p>通常 Writer 将其输出立即发送到底层字符或字节流。<br>除非要求提示输出，否则建议用 BufferedWriter 包装所有其 write() 操作可能开销很高的 Writer（如 FileWriters 和 OutputStreamWriters）。<br>例如，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter out = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;foo.out&quot;</span>)));</span><br></pre></td></tr></table></figure>
<p>将缓冲 PrintWriter 对文件的输出。如果没有缓冲，则每次调用 print() 方法会导致将字符转换为字节，然后立即写入到文件，而这是极其低效的。</p>
<h2 id="PrintWriter-打印输出字符流"><a href="#PrintWriter-打印输出字符流" class="headerlink" title="PrintWriter 打印输出字符流"></a>PrintWriter 打印输出字符流</h2><p>向文本输出流打印对象的格式化表示形式，支持写入各种格式的字符流。但不能写入字节流。</p>
<p>如果启用了自动刷新(<code>autoFlush</code>)，则只有在调用 println、printf 或 format 的其中一个方法时才可能完成此操作，而不是每当正好输出换行符时才完成。这些方法使用平台自有的行分隔符概念，而不是换行符。</p>
<p>为了更容易的过渡到使用<code>PrintWriter</code>，他提供了一个既能接受<code>Writer</code>对象又能接收<code>OutputStream</code>对象的构造器。<br>甚至提供了可以直接接收文件的构造器。</p>
<p>例如，基本文件输出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter printWriter = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;abc.text&quot;</span>)));</span><br><span class="line">PrintWriter printWriter = <span class="keyword">new</span> PrintWriter(<span class="string">&quot;abc.text&quot;</span>); <span class="comment">//快捷方式</span></span><br></pre></td></tr></table></figure>
<p>构造器有:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter(File file)</span><br><span class="line">  使用指定文件创建不具有自动行刷新的新 PrintWriter。</span><br><span class="line">PrintWriter(File file, String csn)</span><br><span class="line">  创建具有指定文件和字符集且不带自动刷行新的新 PrintWriter。</span><br><span class="line">PrintWriter(OutputStream out)</span><br><span class="line">  根据现有的 OutputStream 创建不带自动行刷新的新 PrintWriter。</span><br><span class="line">PrintWriter(OutputStream out, <span class="keyword">boolean</span> autoFlush)</span><br><span class="line">  通过现有的 OutputStream 创建新的 PrintWriter。</span><br><span class="line">PrintWriter(String fileName)</span><br><span class="line">  创建具有指定文件名称且不带自动行刷新的新 PrintWriter。</span><br><span class="line">PrintWriter(String fileName, String csn)</span><br><span class="line">  创建具有指定文件名称和字符集且不带自动行刷新的新 PrintWriter。</span><br><span class="line">PrintWriter(Writer out)</span><br><span class="line">  创建不带自动行刷新的新 PrintWriter。</span><br><span class="line">PrintWriter(Writer out, <span class="keyword">boolean</span> autoFlush)</span><br><span class="line">  创建新 PrintWriter。</span><br></pre></td></tr></table></figure>
<p>构造PrintWriter的方式主要有： <code>File</code>或者文件名、<code>OutputStream</code>以及<code>Writer</code>.</p>
<p>主要的方法：</p>
<p>append方法将指定字符、字符序列和指定字符序列的子序列添加到此 writer。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">PrintWriter 	<span class="title">append</span><span class="params">(<span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function">PrintWriter 	<span class="title">append</span><span class="params">(CharSequence csq)</span></span></span><br><span class="line"><span class="function">PrintWriter 	<span class="title">append</span><span class="params">(CharSequence csq, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> 	<span class="title">println</span><span class="params">()</span> 通过写入行分隔符字符串终止当前行。</span></span><br></pre></td></tr></table></figure>
<p>PrintStream 存在两个重要的方法：<code>print</code>和<code>println</code>。对它们了重载，以便可打印出各种不同的类型。<br><code>print</code>可以打印的类型有 <code>boolean</code> <code>char</code> <code>char[]</code> <code>double</code> <code>float</code> <code>int</code> <code>long</code> <code>Object</code>和<code>String</code>.<br><code>println</code>的参数有<code>boolean</code> <code>char</code> <code>char[]</code> <code>double</code> <code>float</code> <code>int</code> <code>long</code> <code>Object</code>和<code>String</code>.</p>
<p><code>printf</code>、<code>format</code>和<code>write</code>可以打印更多的格式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">PrintWriter 	<span class="title">printf</span><span class="params">(Locale l, String format, Object... args)</span></span></span><br><span class="line"><span class="function">PrintWriter 	<span class="title">printf</span><span class="params">(String format, Object... args)</span></span></span><br><span class="line"><span class="function">PrintWriter 	<span class="title">format</span><span class="params">(Locale l, String format, Object... args)</span></span></span><br><span class="line"><span class="function">        使用指定格式字符串和参数将一个格式化字符串写入此 writer 中。</span></span><br><span class="line"><span class="function">PrintWriter 	<span class="title">format</span><span class="params">(String format, Object... args)</span></span></span><br><span class="line"><span class="function">        使用指定格式字符串和参数将一个格式化字符串写入此 writer 中。</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> 	<span class="title">write</span><span class="params">(<span class="keyword">char</span>[] buf)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> 	<span class="title">write</span><span class="params">(<span class="keyword">char</span>[] buf, <span class="keyword">int</span> off, <span class="keyword">int</span> len)</span> 写入字符数组，字符数组的某一部分。</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> 	<span class="title">write</span><span class="params">(<span class="keyword">int</span> c)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> 	<span class="title">write</span><span class="params">(String s)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> 	<span class="title">write</span><span class="params">(String s, <span class="keyword">int</span> off, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function">        写入单个字符、字符串及字符串的一部分。</span></span><br></pre></td></tr></table></figure>
<p>其他方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> 	<span class="title">checkError</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        如果流没有关闭，则刷新流且检查其错误状态。</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span>  <span class="keyword">void</span> 	<span class="title">setError</span><span class="params">()</span></span></span><br><span class="line"><span class="function">                指示已发生错误。</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span>  <span class="keyword">void</span> 	<span class="title">clearError</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        清除此流的错误状态。</span></span><br></pre></td></tr></table></figure>



<h2 id="InputStreamReader-输入流转换器"><a href="#InputStreamReader-输入流转换器" class="headerlink" title="InputStreamReader 输入流转换器"></a>InputStreamReader 输入流转换器</h2><p>有时需要将字节流转换为字符流，为了实现这个目的，要用到<code>适配器(adapter)</code>类： <code>InputStreamReader</code>将<code>InputStream</code>转换为<code>Reader</code>； <code>OutputStreamWriter</code>将<code>OutputStream</code>转换为<code>Writer</code></p>
<h2 id="OutputStreamWriter-输出流转换器"><a href="#OutputStreamWriter-输出流转换器" class="headerlink" title="OutputStreamWriter 输出流转换器"></a>OutputStreamWriter 输出流转换器</h2><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="管道流"><a href="#管道流" class="headerlink" title="管道流"></a>管道流</h3><ol>
<li>PipedInputStream </li>
<li>PipedOutputStream </li>
<li>PipedReader </li>
<li>PipedWriter</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 验证管道流</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 消息发送类</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Send</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> PipedOutputStream out=<span class="keyword">null</span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Send</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       out = <span class="keyword">new</span> PipedOutputStream();</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> PipedOutputStream <span class="title">getOut</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.out;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">       String message = <span class="string">&quot;hello , Rollen&quot;</span>;</span><br><span class="line">       <span class="keyword">try</span>&#123;</span><br><span class="line">           out.write(message.getBytes());</span><br><span class="line">       &#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;<span class="keyword">try</span>&#123;</span><br><span class="line">           out.close();</span><br><span class="line">       &#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 接受消息类</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Recive</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> PipedInputStream input=<span class="keyword">null</span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Recive</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.input=<span class="keyword">new</span> PipedInputStream();</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> PipedInputStream <span class="title">getInput</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.input;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1000</span>];</span><br><span class="line">       <span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">try</span>&#123;</span><br><span class="line">           len=<span class="keyword">this</span>.input.read(b);</span><br><span class="line">       &#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;<span class="keyword">try</span>&#123;</span><br><span class="line">           input.close();</span><br><span class="line">       &#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">       System.out.println(<span class="string">&quot;接受的内容为 &quot;</span>+(<span class="keyword">new</span> String(b,<span class="number">0</span>,len)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">hello</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">       Send send=<span class="keyword">new</span> Send();</span><br><span class="line">       Recive recive=<span class="keyword">new</span> Recive();</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">//管道连接</span></span><br><span class="line">           send.getOut().connect(recive.getInput());</span><br><span class="line">       &#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">new</span> Thread(send).start();</span><br><span class="line">       <span class="keyword">new</span> Thread(recive).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="SequenceInputStream"><a href="#SequenceInputStream" class="headerlink" title="SequenceInputStream"></a>SequenceInputStream</h3><p>SequenceInputStream可以认为是一个工具类，将两个或者多个输入流当成一个输入流依次读取。完全可以从IO 包中去除，还完全不影响IO 包的结构，却让其更“纯洁”――纯洁的Decorator 模式。<br>【案例】将两个文本文件合并为另外一个文本文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 将两个文本文件合并为另外一个文本文件</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line">File file1 = newFile(<span class="string">&quot;d:&quot;</span> + File.separator + <span class="string">&quot;hello1.txt&quot;</span>);</span><br><span class="line">File file2 = newFile(<span class="string">&quot;d:&quot;</span> + File.separator + <span class="string">&quot;hello2.txt&quot;</span>);</span><br><span class="line">File file3 = newFile(<span class="string">&quot;d:&quot;</span> + File.separator + <span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">InputStream input1 =<span class="keyword">new</span> FileInputStream(file1);</span><br><span class="line">InputStream input2 =<span class="keyword">new</span> FileInputStream(file2);</span><br><span class="line">OutputStream output =<span class="keyword">new</span> FileOutputStream(file3);</span><br><span class="line"><span class="comment">// 合并流</span></span><br><span class="line">SequenceInputStream sis = <span class="keyword">new</span> SequenceInputStream(input1, input2);</span><br><span class="line"><span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((temp =sis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">   output.write(temp);</span><br><span class="line">&#125;</span><br><span class="line">input1.close();</span><br><span class="line">input2.close();</span><br><span class="line">output.close();</span><br><span class="line">sis.close();</span><br></pre></td></tr></table></figure>
<h1 id="RandomAccessFile"><a href="#RandomAccessFile" class="headerlink" title="RandomAccessFile"></a>RandomAccessFile</h1><p>支持搜寻方法，并且只适用于文件。</p>
<p>getFilePointer() 用于查找当前所处的文件位置，seek() 用于在文件内移至新的位置, length()用于判断文件的最大尺寸. 构造器支持在第二个参数中指示<code>随机读(r)</code>还是<code>读写(rw)</code>.但是不支持只写.<br>在JDK1.4后, RandomAccessFile的大多数功能由NIO存储映射文件所取代.</p>
<h2 id="断点下载"><a href="#断点下载" class="headerlink" title="断点下载"></a>断点下载</h2><blockquote>
<p>注意: </p>
<ol>
<li>使用 <code>FileWriter</code>、<code>BufferedOutputStream</code> 或者 <code>BufferedWriter</code> 写文件时，一定要清理缓冲区并且关闭输出流，否则会造成写入的内容丢失</li>
<li>使用字符流装饰字节流时，一定要都关闭掉</li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li>如何判断读到文件结尾? </li>
</ol>
</blockquote>
<ul>
<li>字符流: 每一个<code>Reader</code>都包含一个<code>ready()</code>方法，该方法用于判断IO是否准备完毕，但是不能是否读到文件的结尾。判断是否读到文件结尾要通过判断读入的内容是否为空判断。</li>
</ul>
<h1 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h1><h2 id="getPath-getAbsolutePath和getCanonicalPath"><a href="#getPath-getAbsolutePath和getCanonicalPath" class="headerlink" title="getPath getAbsolutePath和getCanonicalPath"></a>getPath getAbsolutePath和getCanonicalPath</h2><ul>
<li><code>public String getPath()</code> 获取为文件赋值时的路径名</li>
<li><code>public String getAbsolutePath()</code> 获取绝对路径名（包含<code>..</code>和<code>.</code>等字符）。</li>
<li><code>public String getCanonicalPath()throws IOException</code> 获取规范路径名(经过计算后的精简路径名)</li>
</ul>
<h3 id="getCanonicalPath"><a href="#getCanonicalPath" class="headerlink" title="getCanonicalPath()"></a>getCanonicalPath()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(<span class="string">&quot;D:\\Text.txt&quot;</span>);</span><br><span class="line">System.out.println(file.getCanonicalPath());</span><br></pre></td></tr></table></figure>
<p>Windows系统下<br>(1),确定D盘下没有Text.txt这个文件，直接执行这段代码，得到的结果是:<br><code>D:\Text.txt</code><br>注意这里试大写的Text.txt<br>(2)在D盘下建立一个文件，名叫text.txt，再次执行代码，得到结果<br><code>D:\text.txt</code></p>
<p>尝试在linux下执行上边的步骤，两次打印的结果是相同的，因为linux是大小写敏感的系统。</p>
<h2 id="遍历目录下的文件"><a href="#遍历目录下的文件" class="headerlink" title="遍历目录下的文件"></a>遍历目录下的文件</h2><ul>
<li>String[]     list()<pre><code>返回一个字符串数组，这些字符串指定此抽象路径名表示的目录中的文件和目录。</code></pre>
</li>
<li>String[] list(FilenameFilter filter)<pre><code>返回一个字符串数组，这些字符串指定此抽象路径名表示的目录中满足指定过滤器的文件和目录。</code></pre>
</li>
<li>File[] listFiles()<pre><code>返回一个抽象路径名数组，这些路径名表示此抽象路径名表示的目录中的文件。</code></pre>
</li>
<li>File[] listFiles(FileFilter filter)<pre><code>返回抽象路径名数组，这些路径名表示此抽象路径名表示的目录中满足指定过滤器的文件和目录。</code></pre>
</li>
<li>File[] listFiles(FilenameFilter filter)<pre><code>返回抽象路径名数组，这些路径名表示此抽象路径名表示的目录中满足指定过滤器的文件和目录。</code></pre>
</li>
</ul>
<p>上面的遍历方法中存在两个通过FilenameFilter和FileFilter过滤文件的方法。<br>这是<a href="/java-XML-JSON/">策略模式</a>的典型应用。<br>以<code>String[] list(FilenameFilter filter)</code>为例<br>list提供了基本的功能，而且按照FilenameFilter的形式提供策略，以便完善list在提供服务时所需的算法。因为list接受FilenameFilter对象作为参数， 任何实现了FilenameFilter接口的对象都可以传递给list方法，用以选择list方法的行为方式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">FilenameFilter</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">File srcDir=<span class="keyword">new</span> File(<span class="string">&quot;~/testDir&quot;</span>);</span><br><span class="line">File[] files = srcDir.listFiles(</span><br><span class="line"> <span class="keyword">new</span> FilenameFilter()&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name.endsWith(<span class="string">&quot;.java&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="设置指定权限"><a href="#设置指定权限" class="headerlink" title="设置指定权限"></a>设置指定权限</h2><h2 id="迭代创建目录"><a href="#迭代创建目录" class="headerlink" title="迭代创建目录"></a>迭代创建目录</h2><p><code>public boolean mkdirs()</code> 创建此抽象路径名指定的目录，包括所有必需但不存在的父目录。注意，此操作失败时也可能已经成功地创建了一部分必需的父目录。</p>
<h2 id="文件系统根"><a href="#文件系统根" class="headerlink" title="文件系统根"></a>文件系统根</h2><p><code>public static File[] listRoots()</code></p>
<h1 id="样例模板"><a href="#样例模板" class="headerlink" title="样例模板"></a>样例模板</h1><h2 id="关闭"><a href="#关闭" class="headerlink" title="关闭"></a>关闭</h2><p>无论使用任何方式打开文件或者流,必须准确的关闭, 标准的形式是在try-catch语句块的finally中关闭.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">String fileName = <span class="string">&quot;abc.txt&quot;</span>;</span><br><span class="line">BufferedReader bufferedReader = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Reader reader = <span class="keyword">new</span> FileReader(fileName);</span><br><span class="line">    bufferedReader = <span class="keyword">new</span> BufferedReader(reader);</span><br><span class="line">    StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">    String s;</span><br><span class="line">    <span class="keyword">while</span> ((s = bufferedReader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        sb.append(s + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (bufferedReader != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            bufferedReader.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="读取文件"><a href="#读取文件" class="headerlink" title="读取文件"></a>读取文件</h2><p>直接通过FileInputStream, 由于没有使用缓冲<code>BufferedInputStream</code>包装, 每次读取一组字节其实是在一个字节一个字节的从系统中读取.</p>
<h3 id="一次性读入字节数组"><a href="#一次性读入字节数组" class="headerlink" title="一次性读入字节数组"></a>一次性读入字节数组</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">File f=<span class="keyword">new</span> File(fileName);</span><br><span class="line">InputStream in=<span class="keyword">new</span> FileInputStream(f);</span><br><span class="line"><span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">int</span> len = in.read(b);</span><br><span class="line">in.close();</span><br><span class="line">String content = <span class="keyword">new</span> String(b,<span class="number">0</span>,len);</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">File f=<span class="keyword">new</span> File(fileName);</span><br><span class="line">InputStream in=<span class="keyword">new</span> FileInputStream(f);</span><br><span class="line"><span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[f.length()];</span><br><span class="line">in.read(b);</span><br><span class="line">in.close();</span><br><span class="line">String content = <span class="keyword">new</span> String(b);</span><br></pre></td></tr></table></figure>
<h3 id="逐个字节读"><a href="#逐个字节读" class="headerlink" title="逐个字节读"></a>逐个字节读</h3><p>FileInputStream的底层原理决定了和上面的读法是一样的<br>读取字节流时, 读到文件的末尾的时候会返回-1, 以此作为判断读取结束的依据.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">File f=<span class="keyword">new</span> File(fileName);</span><br><span class="line">InputStream in=<span class="keyword">new</span> FileInputStream(f);</span><br><span class="line"><span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">int</span> count =<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> temp=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((temp=in.read())!=(-<span class="number">1</span>))&#123;</span><br><span class="line">   b[count++]=(<span class="keyword">byte</span>)temp;</span><br><span class="line">&#125;</span><br><span class="line">in.close();</span><br><span class="line">System.out.println(<span class="keyword">new</span> String(b));</span><br></pre></td></tr></table></figure>
<h3 id="加缓冲"><a href="#加缓冲" class="headerlink" title="加缓冲"></a>加缓冲</h3><p>使用<code>BufferedInputStream</code>包装输入流</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">File f=<span class="keyword">new</span> File(fileName);</span><br><span class="line">InputStream in=<span class="keyword">new</span> FileInputStream(f);</span><br><span class="line">BufferedInputStream bf = <span class="keyword">new</span> BufferedInputStream(in);</span><br><span class="line"><span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">int</span> len = bf.read(b);</span><br><span class="line">in.close();</span><br><span class="line">String content = <span class="keyword">new</span> String(b,<span class="number">0</span>,len);</span><br></pre></td></tr></table></figure>
<h3 id="字符流读取"><a href="#字符流读取" class="headerlink" title="字符流读取"></a>字符流读取</h3><p>不加缓冲</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 直接通过字符流读文件 file可为File对象或者文件名String</span></span><br><span class="line">FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line"><span class="keyword">char</span>[] content = <span class="keyword">new</span> <span class="keyword">char</span>[file.length()]; <span class="comment">// 调用该方法file必须为File对象</span></span><br><span class="line">fileReader.read(content);</span><br><span class="line">System.out.println(<span class="keyword">new</span> String(content));</span><br></pre></td></tr></table></figure>
<p>加缓冲</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建FileInputStream</span></span><br><span class="line">FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line"><span class="comment">// 将字节流转换为字符流</span></span><br><span class="line">InputStreamReader inputStreamReader = <span class="keyword">new</span> InputStreamReader(fileInputStream);</span><br><span class="line"><span class="comment">// 给字符流加缓冲</span></span><br><span class="line">BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(inputStreamReader);</span><br><span class="line">String s = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">while</span> ((s = bufferedReader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">	System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 直接通过字符流读文件 file可为File对象或者文件名String</span></span><br><span class="line">FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line"><span class="comment">// 给字符流加缓冲</span></span><br><span class="line">BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(fileReader);</span><br><span class="line">String s;</span><br><span class="line"><span class="keyword">while</span> ((s = bufferedReader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">	System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h2><h3 id="字节流写文件"><a href="#字节流写文件" class="headerlink" title="字节流写文件"></a>字节流写文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">OutputStream out =<span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">String str=<span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line"><span class="keyword">byte</span>[] b=str.getBytes();</span><br><span class="line">out.write(b);</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">OutputStream out =<span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">String str=<span class="string">&quot;Hello World！！&quot;</span>;</span><br><span class="line"><span class="keyword">byte</span>[] b=str.getBytes();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; b.length; i++) &#123;</span><br><span class="line">   out.write(b[i]);</span><br><span class="line">&#125;</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure>
<h3 id="加缓冲-1"><a href="#加缓冲-1" class="headerlink" title="加缓冲"></a>加缓冲</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">OutputStream outputStream = <span class="keyword">new</span> FileOutputSteam(file);</span><br><span class="line">BufferedOutputStream bf = <span class="keyword">new</span> BufferedOutputStream(outputStream);</span><br><span class="line">bf.write(str.getBytes());</span><br></pre></td></tr></table></figure>
<h3 id="利用字节流写文件"><a href="#利用字节流写文件" class="headerlink" title="利用字节流写文件"></a>利用字节流写文件</h3><p>不加缓冲, 底层实现是逐个字符添加到系统文件中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FileWriter fileWriter = <span class="keyword">new</span> FileWriter(file);</span><br><span class="line">bufferedWriter.write(<span class="string">&quot;Hellp world!&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>加缓冲</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// file为File对象 文件名字符串 FileDescriptor对象</span></span><br><span class="line">FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line"><span class="comment">// 字节流转换为字节流</span></span><br><span class="line">OutputStreamWriter outputStreamWriter = <span class="keyword">new</span> OutputStreamWriter(fileOutputStream);</span><br><span class="line"><span class="comment">// 加缓冲</span></span><br><span class="line">BufferedWriter bufferedWriter = <span class="keyword">new</span> BufferedWriter(outputStreamWriter);</span><br><span class="line">bufferedWriter.write(<span class="string">&quot;hello world!&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FileWriter fileWriter = <span class="keyword">new</span> FileWriter(file);</span><br><span class="line">BufferedWriter bufferedWriter = <span class="keyword">new</span> BufferedWriter(fileWriter);</span><br><span class="line">bufferedWriter.write(<span class="string">&quot;Hello world!&quot;</span>);</span><br></pre></td></tr></table></figure>


<h3 id="格式化字符输出"><a href="#格式化字符输出" class="headerlink" title="格式化字符输出"></a>格式化字符输出</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter printWriter = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;abc.text&quot;</span>)));</span><br><span class="line">PrintWriter printWriter = <span class="keyword">new</span> PrintWriter(<span class="string">&quot;abc.text&quot;</span>); <span class="comment">//快捷方式, 本身就已经添加了缓冲</span></span><br></pre></td></tr></table></figure>
<h2 id="内存中的字符串读取"><a href="#内存中的字符串读取" class="headerlink" title="内存中的字符串读取"></a>内存中的字符串读取</h2><h3 id="从内存逐个字节读入字符串"><a href="#从内存逐个字节读入字符串" class="headerlink" title="从内存逐个字节读入字符串"></a>从内存逐个字节读入字符串</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;这是需要读入的字符串&quot;</span>;</span><br><span class="line">StringReader stringReader = <span class="keyword">new</span> StringReader(s);</span><br><span class="line"><span class="keyword">int</span> c = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> ((c = stringReader.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">        System.out.println((<span class="keyword">char</span>) c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    stringReader.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">这</span><br><span class="line">是</span><br><span class="line">需</span><br><span class="line">要</span><br><span class="line">读</span><br><span class="line">入</span><br><span class="line">的</span><br><span class="line">字</span><br><span class="line">符</span><br><span class="line">串</span><br></pre></td></tr></table></figure>
<h3 id="格式化内存输入"><a href="#格式化内存输入" class="headerlink" title="格式化内存输入"></a>格式化内存输入</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">&quot;这是需要输出的字符串!&quot;</span>;</span><br><span class="line">ByteArrayInputStream inputStream = <span class="keyword">new</span> ByteArrayInputStream(s.getBytes());</span><br><span class="line">DataInputStream in = <span class="keyword">new</span> DataInputStream(inputStream);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">   <span class="keyword">while</span> (in.available() != <span class="number">0</span>) &#123;</span><br><span class="line">       System.out.println((<span class="keyword">char</span>) in.readByte());</span><br><span class="line">   &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">   System.err.println(<span class="string">&quot;End of Stream&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">       in.close();</span><br><span class="line">   &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">       e.printStackTrace();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>DataInputStream.available()方法检测还有多少可供读取的字符</p>
<h2 id="文件拷贝"><a href="#文件拷贝" class="headerlink" title="文件拷贝"></a>文件拷贝</h2><p>这是采用Java IO实现的版本， 采用<a href="/Java/io/NIO/">Java NIO</a>可以大大提高效率。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">File file1=<span class="keyword">new</span> File(args[<span class="number">0</span>]);</span><br><span class="line">File file2=<span class="keyword">new</span> File(args[<span class="number">1</span>]);</span><br><span class="line">InputStream input=<span class="keyword">new</span> FileInputStream(file1);</span><br><span class="line">OutputStream output=<span class="keyword">new</span> FileOutputStream(file2);</span><br><span class="line"><span class="keyword">if</span>((input!=<span class="keyword">null</span>)&amp;&amp;(output!=<span class="keyword">null</span>))&#123;</span><br><span class="line">   <span class="keyword">int</span> temp=<span class="number">0</span>;</span><br><span class="line">   <span class="keyword">while</span>((temp=input.read())!=(-<span class="number">1</span>))&#123;</span><br><span class="line">		output.write(temp);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">input.close();</span><br><span class="line">output.close();</span><br></pre></td></tr></table></figure>
<h2 id="RandomAccessFile-1"><a href="#RandomAccessFile-1" class="headerlink" title="RandomAccessFile"></a>RandomAccessFile</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">String fileName=<span class="string">&quot;D:&quot;</span>+File.separator+<span class="string">&quot;hello.txt&quot;</span>;</span><br><span class="line">File f=<span class="keyword">new</span> File(fileName);</span><br><span class="line">RandomAccessFile demo=<span class="keyword">new</span> RandomAccessFile(f,<span class="string">&quot;rw&quot;</span>);</span><br><span class="line">demo.writeBytes(<span class="string">&quot;asdsad&quot;</span>);</span><br><span class="line">demo.writeInt(<span class="number">12</span>);</span><br><span class="line">demo.writeBoolean(<span class="keyword">true</span>);</span><br><span class="line">demo.writeChar(<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">demo.writeFloat(<span class="number">1.21f</span>);</span><br><span class="line">demo.writeDouble(<span class="number">12.123</span>);</span><br><span class="line">demo.close();</span><br></pre></td></tr></table></figure>
<h2 id="与字节数组结合"><a href="#与字节数组结合" class="headerlink" title="与字节数组结合"></a>与字节数组结合</h2><p>//TODO 与字节数组</p>
<h1 id="标准IO"><a href="#标准IO" class="headerlink" title="标准IO"></a>标准IO</h1><p>三个标准IO分别是 <code>System.out</code> <code>System.err</code>  <code>System.in</code>, <code>System.out</code>和<code>System.err</code>已经包装成<code>PrintStream</code>对象, 而<code>System.io</code>是没有被包装的未经过加工的<code>InputStream</code>, 因此在读取<code>System.io</code>之前必须对其进行包装.</p>
<p>例子: 一行一行读取系统输入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">InputStreamReader in = <span class="keyword">new</span> InputStreamReader(System.in);</span><br><span class="line">BufferedReader stdin = <span class="keyword">new</span> BufferedReader(in);</span><br><span class="line">String s;</span><br><span class="line"><span class="keyword">while</span>((s = stdin.readLine())!=<span class="keyword">null</span> &amp;&amp; s.length!=<span class="number">0</span>)&#123;</span><br><span class="line">  System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>字符输出到标准输出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter out = <span class="keyword">new</span> PrintWriter(System.out,<span class="keyword">true</span>);</span><br><span class="line">out.println(<span class="string">&quot;hello , world!&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="标准IO重定向"><a href="#标准IO重定向" class="headerlink" title="标准IO重定向"></a>标准IO重定向</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.setIn(in);</span><br><span class="line">System.setOut(out);</span><br><span class="line">System.setErr(out);</span><br></pre></td></tr></table></figure>
<p>//TODO 如何重定向到<code>java.swing.JTextArea</code></p>
<h1 id="Java-IO-异常与错误"><a href="#Java-IO-异常与错误" class="headerlink" title="Java IO 异常与错误"></a>Java IO 异常与错误</h1><h1 id="进程控制"><a href="#进程控制" class="headerlink" title="进程控制"></a>进程控制</h1><p>所谓的进程控制, 是当Java 调用系统指令启动系统进程时, 利用Java IO输出运行过程中的输出和错位信息</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">String command = <span class="string">&quot;CMD /C ping www.baidu.com&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  Process process = <span class="keyword">new</span> ProcessBuilder(command.split(<span class="string">&quot; &quot;</span>)).start();</span><br><span class="line">  InputStream inputStream = process.getInputStream();</span><br><span class="line">  InputStreamReader inputStreamReader = <span class="keyword">new</span> InputStreamReader(inputStream);</span><br><span class="line">  BufferedReader results = <span class="keyword">new</span> BufferedReader(inputStreamReader);</span><br><span class="line">  String s;</span><br><span class="line">  <span class="keyword">while</span> ((s = results.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">      System.out.println(s);</span><br><span class="line">  &#125;</span><br><span class="line">  BufferedReader errors = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(process.getErrorStream()));</span><br><span class="line">  <span class="keyword">while</span> ((s = errors.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">      System.out.println(s);</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">  e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<hr>
<p>[参考文献]:</p>
<ol>
<li>Think in Java</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Java/" rel="tag"># Java</a>
              <a href="/tags/IO/" rel="tag"># IO</a>
              <a href="/tags/InputStream/" rel="tag"># InputStream</a>
              <a href="/tags/OutputStream/" rel="tag"># OutputStream</a>
              <a href="/tags/Reader/" rel="tag"># Reader</a>
              <a href="/tags/Writer/" rel="tag"># Writer</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/Java/collection/HashMap/" rel="prev" title="Java HashMap">
      <i class="fa fa-chevron-left"></i> Java HashMap
    </a></div>
      <div class="post-nav-item">
    <a href="/Java/io/IO-Model/" rel="next" title="IO模式(IO Model)与高性能IO设计模式">
      IO模式(IO Model)与高性能IO设计模式 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Java-IO-%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB"><span class="nav-number">1.</span> <span class="nav-text">Java IO 继承关系</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="nav-number">1.1.</span> <span class="nav-text">字节流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#InputStream"><span class="nav-number">1.2.</span> <span class="nav-text">InputStream</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OutputStream"><span class="nav-number">1.3.</span> <span class="nav-text">OutputStream</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="nav-number">1.4.</span> <span class="nav-text">字符流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reader-%E5%AD%97%E7%AC%A6%E8%BE%93%E5%85%A5%E6%B5%81"><span class="nav-number">1.5.</span> <span class="nav-text">Reader 字符输入流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Writer-%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">1.6.</span> <span class="nav-text">Writer 字符输出流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E4%B8%8E%E5%AD%97%E7%AC%A6%E6%B5%81%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="nav-number">1.7.</span> <span class="nav-text">字节流与字符流的对应关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E4%B8%8E%E5%AD%97%E7%AC%A6%E6%B5%81%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">1.8.</span> <span class="nav-text">字节流与字符流的区别</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81-1"><span class="nav-number">2.</span> <span class="nav-text">字节流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#FileInputStream-%E6%96%87%E4%BB%B6%E8%BE%93%E5%85%A5%E6%B5%81"><span class="nav-number">2.1.</span> <span class="nav-text">FileInputStream 文件输入流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FileOutputSteam-%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">2.2.</span> <span class="nav-text">FileOutputSteam 文件输出流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BufferedInputStream-%E7%BC%93%E5%86%B2%E8%BE%93%E5%85%A5%E6%B5%81"><span class="nav-number">2.3.</span> <span class="nav-text">BufferedInputStream 缓冲输入流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BufferedOutputStream-%E7%BC%93%E5%86%B2%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">2.4.</span> <span class="nav-text">BufferedOutputStream 缓冲输出流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DataInputStream-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5%E6%B5%81"><span class="nav-number">2.5.</span> <span class="nav-text">DataInputStream 数据输入流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DataOutputStream-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">2.6.</span> <span class="nav-text">DataOutputStream 数据输出流</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81-1"><span class="nav-number">3.</span> <span class="nav-text">字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#FileReader-%E6%96%87%E4%BB%B6%E8%BE%93%E5%85%A5%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="nav-number">3.1.</span> <span class="nav-text">FileReader 文件输入字符流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FileWriter-%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="nav-number">3.2.</span> <span class="nav-text">FileWriter 文件输出字符流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BufferedReader-%E7%BC%93%E5%86%B2%E5%AD%97%E7%AC%A6%E8%BE%93%E5%85%A5%E6%B5%81"><span class="nav-number">3.3.</span> <span class="nav-text">BufferedReader 缓冲字符输入流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BufferedWriter-%E7%BC%93%E5%86%B2%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">3.4.</span> <span class="nav-text">BufferedWriter 缓冲字符输出流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PrintWriter-%E6%89%93%E5%8D%B0%E8%BE%93%E5%87%BA%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="nav-number">3.5.</span> <span class="nav-text">PrintWriter 打印输出字符流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#InputStreamReader-%E8%BE%93%E5%85%A5%E6%B5%81%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="nav-number">3.6.</span> <span class="nav-text">InputStreamReader 输入流转换器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OutputStreamWriter-%E8%BE%93%E5%87%BA%E6%B5%81%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="nav-number">3.7.</span> <span class="nav-text">OutputStreamWriter 输出流转换器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">3.8.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%A1%E9%81%93%E6%B5%81"><span class="nav-number">3.8.1.</span> <span class="nav-text">管道流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SequenceInputStream"><span class="nav-number">3.8.2.</span> <span class="nav-text">SequenceInputStream</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#RandomAccessFile"><span class="nav-number">4.</span> <span class="nav-text">RandomAccessFile</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%AD%E7%82%B9%E4%B8%8B%E8%BD%BD"><span class="nav-number">4.1.</span> <span class="nav-text">断点下载</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#File%E7%B1%BB"><span class="nav-number">5.</span> <span class="nav-text">File类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#getPath-getAbsolutePath%E5%92%8CgetCanonicalPath"><span class="nav-number">5.1.</span> <span class="nav-text">getPath getAbsolutePath和getCanonicalPath</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#getCanonicalPath"><span class="nav-number">5.1.1.</span> <span class="nav-text">getCanonicalPath()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%81%8D%E5%8E%86%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6"><span class="nav-number">5.2.</span> <span class="nav-text">遍历目录下的文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E6%8C%87%E5%AE%9A%E6%9D%83%E9%99%90"><span class="nav-number">5.3.</span> <span class="nav-text">设置指定权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="nav-number">5.4.</span> <span class="nav-text">迭代创建目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%A0%B9"><span class="nav-number">5.5.</span> <span class="nav-text">文件系统根</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B%E6%A8%A1%E6%9D%BF"><span class="nav-number">6.</span> <span class="nav-text">样例模板</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E9%97%AD"><span class="nav-number">6.1.</span> <span class="nav-text">关闭</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="nav-number">6.2.</span> <span class="nav-text">读取文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E6%AC%A1%E6%80%A7%E8%AF%BB%E5%85%A5%E5%AD%97%E8%8A%82%E6%95%B0%E7%BB%84"><span class="nav-number">6.2.1.</span> <span class="nav-text">一次性读入字节数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%90%E4%B8%AA%E5%AD%97%E8%8A%82%E8%AF%BB"><span class="nav-number">6.2.2.</span> <span class="nav-text">逐个字节读</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A0%E7%BC%93%E5%86%B2"><span class="nav-number">6.2.3.</span> <span class="nav-text">加缓冲</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81%E8%AF%BB%E5%8F%96"><span class="nav-number">6.2.4.</span> <span class="nav-text">字符流读取</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%99%E6%96%87%E4%BB%B6"><span class="nav-number">6.3.</span> <span class="nav-text">写文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E5%86%99%E6%96%87%E4%BB%B6"><span class="nav-number">6.3.1.</span> <span class="nav-text">字节流写文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A0%E7%BC%93%E5%86%B2-1"><span class="nav-number">6.3.2.</span> <span class="nav-text">加缓冲</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E5%AD%97%E8%8A%82%E6%B5%81%E5%86%99%E6%96%87%E4%BB%B6"><span class="nav-number">6.3.3.</span> <span class="nav-text">利用字节流写文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA"><span class="nav-number">6.3.4.</span> <span class="nav-text">格式化字符输出</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%AF%BB%E5%8F%96"><span class="nav-number">6.4.</span> <span class="nav-text">内存中的字符串读取</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E5%86%85%E5%AD%98%E9%80%90%E4%B8%AA%E5%AD%97%E8%8A%82%E8%AF%BB%E5%85%A5%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">6.4.1.</span> <span class="nav-text">从内存逐个字节读入字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%86%85%E5%AD%98%E8%BE%93%E5%85%A5"><span class="nav-number">6.4.2.</span> <span class="nav-text">格式化内存输入</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%8B%B7%E8%B4%9D"><span class="nav-number">6.5.</span> <span class="nav-text">文件拷贝</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RandomAccessFile-1"><span class="nav-number">6.6.</span> <span class="nav-text">RandomAccessFile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8E%E5%AD%97%E8%8A%82%E6%95%B0%E7%BB%84%E7%BB%93%E5%90%88"><span class="nav-number">6.7.</span> <span class="nav-text">与字节数组结合</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%87%E5%87%86IO"><span class="nav-number">7.</span> <span class="nav-text">标准IO</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E5%87%86IO%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">7.1.</span> <span class="nav-text">标准IO重定向</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Java-IO-%E5%BC%82%E5%B8%B8%E4%B8%8E%E9%94%99%E8%AF%AF"><span class="nav-number">8.</span> <span class="nav-text">Java IO 异常与错误</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-number">9.</span> <span class="nav-text">进程控制</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">aaronzhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">227</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">107</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">aaronzhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
